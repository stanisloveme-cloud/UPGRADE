# **PRD-002: UI Skeleton & Hall Management**

**Version:** 1.0

**Status:** Ready for Dev

**Dependencies:** PRD-001 (Backend API & DB ready)

## **1\. Контекст и Цель**

**Цель:** Развернуть клиентское приложение и реализовать сценарий настройки залов мероприятия.

**Стек:** React \+ Vite \+ Ant Design Pro (Layout, Components).

**Референс UI:** Скриншот 2026-02-15\_20-31-58.png (Модальное окно редактирования залов).

## **2\. Архитектура UI (App Skeleton)**

### **2.1. Глобальный Лейаут**

Использовать компонент \<ProLayout\> из @ant-design/pro-components.

* **Title:** "UPGRADE" (или "Business Program Editor").  
* **Logo:** Заглушка или логотип UPGRADE.  
* **Navigation (Menu):**  
  * Dashboard (/dashboard)  
  * Program Editor (/events/:id/program) — **Основная рабочая страница**.  
  * Sales (/sales) — (Заглушка).  
  * Brand Check (/brand-check) — (Заглушка).  
* **Header Actions:**  
  * Кнопка "Сводная таблица тут" (Link).  
  * User Avatar & Logout.

### **2.2. Страница Редактора Программы (/events/:id/program)**

Это "родительская" страница для сетки расписания.

* **Header:**  
  * **Title:** Название мероприятия (из API GET /api/events/:id).  
  * **Settings Icon (⚙️):** Триггер для открытия модального окна "Управление залами".  
  * **Edit Mode Toggle:** Переключатель режима редактирования.  
  * **Filters Bar:** Чекбоксы (Скрыть сессии, Скрыть вопросы и т.д.) — *пока только верстка, логика позже*.

## **3\. Функционал: Управление Залами (Hall Management)**

### **3.1. UI Спецификация (Modal)**

Реализовать модальное окно, открывающееся по клику на шестеренку (⚙️).

* **Компонент:** \<ModalForm\> или \<DrawerForm\>.  
* **Title:** "Управление залами".  
* **Trigger:** Иконка шестеренки в хедере.

**Поля формы (Dynamic List):**

Использовать \<ProFormList\> для списка залов.

| Label | Component | Props | Примечание |
| :---- | :---- | :---- | :---- |
| **Наименование зала на мероприятии** | ProFormText | name="name" | "Зал Трансформер", "Зал Олимпийский" |
| **Ссылка на Zoom** | ProFormText | name="zoom\_link" | (Опционально, для онлайн-трансляций) |
| **Наименование зала площадки** | ProFormSelect | name="venue\_hall\_name" | Options: \["Трансформер", "Олимпийский", "Останкино", ...\] |
| **Действия** | Button | Delete / Add | Стандартные кнопки списка |

**Кнопка добавления:**

* Текст: "+ Добавить зал"  
* Расположение: Внизу списка.

### **3.2. Взаимодействие с API**

1. **Загрузка (Initial State):**  
   * При открытии модалки: GET /api/events/:id/full-structure (извлекаем массив halls).  
2. **Сохранение (Submit):**  
   * POST /api/halls/batch-update (или цикл запросов, если API простой).  
   * Payload:  
     {  
       "event\_id": 16,  
       "halls": \[  
         { "id": 1, "name": "Трансформер", "capacity": 400 },  
         { "id": null, "name": "Новый зал", "capacity": 100 } // id=null для новых  
       \]  
     }

   * **Важно:** Если зал удален из списка в UI, отправить запрос DELETE или пометить как удаленный.

## **4\. Бизнес-логика и Валидация**

1. **Обязательные поля:** Название зала не может быть пустым.  
2. **Сортировка:** Порядок залов в списке определяет sort\_order (Index в массиве). При сохранении обновлять sort\_order.  
3. **Mock Data:** Если API недоступен, использовать массив:  
   const MOCK\_HALLS \= \[  
     { id: 1, name: 'Зал "Трансформер"', venue: 'Трансформер' },  
     { id: 2, name: 'Зал "Олимпийский"', venue: 'Олимпийский' },  
   \];

## **5\. Инструкции для разработчика (Agent Prompt)**

1. **Frontend Setup:** Разверни React \+ Vite \+ Ant Design Pro. Создай базовый лейаут с меню.  
2. **Program Page:** Создай страницу /events/:id/program. Добавь хедер с названием и иконкой настроек.  
3. **Halls Modal:** Реализуй модалку управления залами используя \<ProFormList\>. Добейся визуального сходства со скриншотом 2026-02-15\_20-31-58.png.  
4. **Integration:** Подключи форму к API (или мокам, если бэкенд еще не готов).