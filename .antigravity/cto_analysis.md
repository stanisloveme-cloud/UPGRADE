# CTO –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ê–Ω–∞–ª–∏–∑: –ü—Ä–æ–µ–∫—Ç UPGRADE

> **–†–æ–ª—å:** CTO-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä, –≤–Ω–µ—à–Ω–∏–π –≤–∑–≥–ª—è–¥  
> **–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-02-20  
> **–°—Ç–∞—Ç—É—Å:** –¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑. –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –≤–Ω–æ—Å–∏–ª–æ—Å—å.

---

## Executive Summary

–ü—Ä–æ–µ–∫—Ç **UPGRADE** ‚Äî —ç—Ç–æ B2B SaaS –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ª–æ–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π (Business Program Editor). –°—Ç–µ–∫: NestJS + PostgreSQL (Prisma) + React/Vite/AntD Pro. –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Docker + GitHub Actions –Ω–∞ VPS.

**–û–±—â–∏–π –≤–µ—Ä–¥–∏–∫—Ç:** –ü—Ä–æ–¥—É–∫—Ç –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω–Ω—É—é –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä. –û–¥–Ω–∞–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç **—Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã** —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥.

---

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∂–∏–≤—ë—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏

–≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–∫ –º–∏–Ω–∏–º—É–º **3 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–∞–≤–¥—ã:**

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –ß—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç |
|---|---|
| `docs/prd/06_Infrastructure_and_Release.md` | –ü–∞–ø–∫–∏ `/backend/`, `/infra/` —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ |
| `docs/prd/00_Preflight_Checklist.md` | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `/backend`, `/frontend`, `/infra`, `/.antigravity` ‚Äî –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ, —á–µ–≥–æ –Ω–µ—Ç |
| `.antigravity/PROJECT_STATUS.md` | **"INFRA: DOES NOT EXIST. –í—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ –≤ ROOT"** |

**–ò—Ç–æ–≥:** PRD-006 (`Infra file structure`) –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞–ø–∫–∏. PRD-000 (`Preflight Checklist`) —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø–ª–∞–Ω–∞. `PROJECT_STATUS.md` –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –æ–±–æ–∏–º. –ê–≥–µ–Ω—Ç –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å–¥–µ–ª–∞–µ—Ç –æ—à–∏–±–∫—É.

> [!WARNING]
> –í `docs/prd/00_Preflight_Checklist.md` (—Å—Ç—Ä–æ–∫–∏ 91‚Äì121) –¥–æ—Å–ª–æ–≤–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω YAML-–∫–æ–Ω—Ñ–∏–≥ –∏–∑ `project_skills.yml` ‚Äî –≤–∫–ª—é—á–∞—è **production credentials** (login + password –æ—Ç `sales.upgradecrm.ru`) –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º —Ç–µ–∫—Å—Ç–µ. –≠—Ç–æ **security-–¥—ã—Ä–∞** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

### 2. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Ö–∞–æ—Å –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

`PROJECT_STATUS.md` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é deployment'–∞ –∫–∞–∫ —Ü–µ–ø–æ—á–∫—É –∫—Ä–∏–∑–∏—Å–æ–≤:
- OOM Kill (Exit Code 137) ‚Äî **–Ω–µ—Ä–µ—à—ë–Ω** –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
- –°–µ—Ä–≤–µ—Ä ‚Äî **1 CPU VPS —Å 1 GB RAM**, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞–¥–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å: PostgreSQL, Redis, NestJS, Frontend-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Nginx, –ø–ª—é—Å `prisma db seed` –ø—Ä–∏ –¥–µ–ø–ª–æ–µ. **–≠—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ swap.**
- –í `docker-compose.prod.yml` –Ω–µ—Ç **resource limits** –Ω–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- `Dockerfile` ‚Äî –Ω–µ multi-stage. –û–±—Ä–∞–∑ —Ç—è–Ω–µ—Ç –≤—Å–µ `node_modules` (–≤–∫–ª—é—á–∞—è devDependencies) –≤ production.

**PRD-006** –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç `Min RAM: 4 GB`. –§–∞–∫—Ç: —Å–µ—Ä–≤–µ—Ä –∏–º–µ–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ, —Å—É–¥—è –ø–æ OOM. –≠—Ç–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –¢–ó —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é –Ω–∏–∫—Ç–æ –Ω–µ –∑–∞–∫—Ä—ã–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ.

---

### 3. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö

`project_rules.yaml` –∏ `.antigravityrules` ‚Äî **–ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã.** –í `project_rules.yaml` –æ–±–Ω–∞—Ä—É–∂–µ–Ω –¥—É–±–ª—å –ø—Ä–∞–≤–∏–ª–∞:

```yaml
# —Å—Ç—Ä–æ–∫–∏ 51‚Äì53 ‚Äî –ø–æ–ª–Ω–∞—è –∫–æ–ø–∏—è —Å—Ç—Ä–æ–∫ 47‚Äì49
- id: "cli-non-interactive"  # –î–£–ë–õ–¨
  description: "Never use interactive CLI commands..."
  severity: "error"
```

–ü—Ä–∏ —ç—Ç–æ–º `project_rules.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª–æ `shell-safe-execution` (—Å—Ç—Ä–æ–∫–∏ 96‚Äì102) —Å PowerShell-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ (`Select-String`, `$env:VAR`), –∫–æ—Ç–æ—Ä–æ–µ **–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç** —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ `.antigravityrules`: *"Switched to Git Bash. Strict PowerShell blocking rules are no longer needed."* –ê–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã.

---

## üü° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è

### 4. –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –≤ PRD-001 —Ä–∞—Å—Ö–æ–¥–∏—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω–æ–π Prisma-—Å—Ö–µ–º–æ–π

**PRD-001** –æ–ø–∏—Å—ã–≤–∞–µ—Ç `Session` —Å –ø–æ–ª—è–º–∏ `manager_comment`, `program_thesis`, `newsletter_quote` ‚Äî —ç—Ç–∏ –ø–æ–ª—è –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `SessionSpeaker`. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —ç–≤–æ–ª—é—Ü–∏—è, –Ω–æ PRD-001 –Ω–µ –æ–±–Ω–æ–≤–ª—ë–Ω –∏ –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ.

**PRD-001** –æ–ø–∏—Å—ã–≤–∞–µ—Ç `SessionSpeaker` –±–µ–∑ –ø–æ–ª—è `emailSnapshot`, —Ö–æ—Ç—è **PRD-008** –µ–≥–æ –¥–æ–±–∞–≤–ª—è–µ—Ç. –í —Ä–µ–∞–ª—å–Ω–æ–π Prisma-—Å—Ö–µ–º–µ `emailSnapshot` **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**. PRD-008 –æ–ø–µ—Ä–µ–∂–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, PRD-001 –æ—Ç—Å—Ç–∞—ë—Ç ‚Äî –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –Ω–µ—Ç.

**User model** –≤ PRD-007 –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `email`-based –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `is_super_admin`. –í —Ä–µ–∞–ª—å–Ω–æ–π Prisma-—Å—Ö–µ–º–µ: `username` (–Ω–µ email), –Ω–µ—Ç `is_super_admin`, –Ω–µ—Ç `is_active`. PRD-007 ‚Äî —ç—Ç–æ Design Doc –¥–ª—è –±—É–¥—É—â–µ–≥–æ, –∞ –Ω–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

### 5. –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–∞–Ω–Ω—ã—Ö Track ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∏–∑–ª–∏—à–Ω–æ—Å—Ç—å –¥–ª—è MVP

–¢–µ–∫—É—â–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è: `Event ‚Üí Hall ‚Üí Track ‚Üí Session`.

**–ü—Ä–æ–±–ª–µ–º–∞:** `Track` ‚Äî —ç—Ç–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–µ—Å—Å–∏–π –≤–Ω—É—Ç—Ä–∏ –∑–∞–ª–∞. –í —Ä–µ–∞–ª—å–Ω–æ–º use case –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ (—Å—É–¥—è –ø–æ –∞–Ω–∞–ª–∏–∑—É legacy-—Å–∏—Å—Ç–µ–º—ã –∏ Excel-—Ñ–∞–π–ª—É –≤ references) **–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–ª–æ–≤ –∏–º–µ—é—Ç 1-2 —Ç—Ä–µ–∫–∞ –Ω–∞ –¥–µ–Ω—å.** –ü—Ä–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–º –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç:
- –õ–∏—à–Ω–∏–π —à–∞–≥ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å Track, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å Session).
- –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ API (–∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Ç—è–Ω–µ—Ç –µ—â—ë –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏).
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ Grid: –Ω—É–∂–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ TrackBlock, –∏ SessionCard.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ü–ª–æ—Å–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è `Event ‚Üí Hall ‚Üí Session` —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–æ–ª–µ–º `topic_group` (String) –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏. –î–ª—è MVP —ç—Ç–æ –±—ã–ª–æ –±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ. –°–µ–π—á–∞—Å —É–∂–µ –ø–æ–∑–¥–Ω–æ ‚Äî —Å—Ö–µ–º–∞ –∏ API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã ‚Äî –Ω–æ —ç—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É Grid (`PRD-003`) –æ–ø–∏—Å–∞–Ω –∫–∞–∫ **"–í—ã—Å–æ–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å"**.

### 6. Redis ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –±–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–í–æ –≤—Å–µ—Ö docker-compose —Ñ–∞–π–ª–∞—Ö Redis –ø–æ–¥–∫–ª—é—á—ë–Ω. –í `project_rules.yaml` Redis —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è. –í `PROJECT_STATUS.md` –¥–∞–∂–µ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ critical gap. **–ù–æ:** –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ (`src/`) –Ω–µ—Ç –º–æ–¥—É–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ—Ç `@nestjs/cache-manager`, –Ω–µ—Ç `Bull` –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π. Redis –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è, –∑–∞–Ω–∏–º–∞–µ—Ç –ø–∞–º—è—Ç—å, –Ω–æ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∏ –¥–ª—è —á–µ–≥–æ**. –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ MVP —ç—Ç–æ –ø—É—Å—Ç–æ–π —Ä–∞—Å—Ö–æ–¥ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º VPS.

---

## üü† –ü–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–∏—è –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### 7. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±—Ö–æ–¥–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

–í `project_skills.yml` –æ–ø–∏—Å–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π skill `github_direct_api` —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ Node.js-—Å–∫—Ä–∏–ø—Ç–∞–º–∏ (`scripts/trigger_swap.js`, `scripts/check_deploy.js`) –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–±–ª–µ–º —Å `gh` CLI (—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∞–Ω–∏—è). –≠—Ç–æ **—Å–∏–º–ø—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–µ—á–µ–Ω–∏–µ**, –∞ –Ω–µ —Ä–µ—à–µ–Ω–∏–µ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π fix ‚Äî –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–ª—Å—è `gh` CLI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–µ–ø–ª–æ—è (webhook callbacks, artifact download).

### 8. `project_skills.yml` ‚Äî YAML, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ YAML

–§–∞–π–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è Skills –∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Ö –∫–∞–∫ –º–∞—à–∏–Ω–æ—á–∏—Ç–∞–µ–º—ã–π –∫–æ–Ω—Ñ–∏–≥, –Ω–æ:
- `activation_policy` (`trigger: "ambiguous_ui_requirement"`) ‚Äî —ç—Ç–æ –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è. LLM-–∞–≥–µ–Ω—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç YAML-—Ç—Ä–∏–≥–≥–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π **–∏–º–∏—Ç–∏—Ä—É–µ—Ç** –º–∞—à–∏–Ω–Ω—É—é –ª–æ–≥–∏–∫—É, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –µ—é.
- Credential'—ã –≤ –∫–æ–Ω—Ñ–∏–≥–µ (—Å—Ç—Ä–æ–∫–∏ 16‚Äì17) ‚Äî plaintext username/password –≤ —Ñ–∞–π–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–∂–∏—Ç –≤ VCS-–ø—Ä–æ–µ–∫—Ç–µ.

### 9. `antigravity_kb.md` ‚Äî —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã

–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ `antigravity.dev/docs/`, `antigravityide.org/features/artifacts`, `github.com/google/antigravity-issues` ‚Äî –Ω–∏ –æ–¥–∏–Ω –∏–∑ —ç—Ç–∏—Ö URL –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –ª–æ–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞ (hallucination-amplifier): –∞–≥–µ–Ω—Ç –ø—ã—Ç–∞–µ—Ç—Å—è "—á–∏—Ç–∞—Ç—å" –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç.

### 10. Dockerfile ‚Äî –Ω–µ production-grade

```dockerfile
FROM node:20-slim       # –•–æ—Ä–æ—à–æ
COPY . .                # –ö–æ–ø–∏—Ä—É–µ—Ç –í–°–Å: —Ç–µ—Å—Ç—ã, docs, .git, –ª–æ–≥–∏
RUN npm ci              # –°—Ç–∞–≤–∏—Ç devDependencies
RUN npm run build
CMD ["node", "dist/src/main"]
```

- –ù–µ—Ç `.dockerignore` (—Ç–æ—á–Ω–µ–µ, –æ–Ω –µ—Å—Ç—å, –Ω–æ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ).
- –ù–µ—Ç multi-stage build: `node_modules` + `src` + `docs` + 8 —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤ –¥–µ–ø–ª–æ—è (`deploy.log`, `verification_logs*.txt` ‚Äî —Å—É–º–º–∞—Ä–Ω–æ ~1.8 MB —Ç–µ–∫—Å—Ç–∞) –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–±—Ä–∞–∑.
- –ù–µ—Ç `--production` —Ñ–ª–∞–≥–∞ –ø—Ä–∏ `npm ci`.
- –ù–µ—Ç `USER` –¥–∏—Ä–µ–∫—Ç–∏–≤—ã ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç root.

---

## üü¢ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Ö–æ—Ä–æ—à–æ

1. **–î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å** (PRD-008, Prisma schema) ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–∞. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ Speaker –Ω–∞ 3 —É—Ä–æ–≤–Ω—è (Gold ID / Strategic Profile / Tactical Context) ‚Äî —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–¥–∫–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –Ω–∞ MVP-—Å—Ç–∞–¥–∏–∏.

2. **PRD-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (`Dependencies: PRD-002`) –ø–æ–º–æ–≥–∞—é—Ç –∞–≥–µ–Ω—Ç—É –ø–æ–Ω–∏–º–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –≠—Ç–æ —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

3. **UI-—Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã** ‚Äî `docs/references/` —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏ legacy-—Å–∏—Å—Ç–µ–º—ã –∏ `UI_MAP.md` ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥. –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç "—É–≤–∏–¥–µ—Ç—å" –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

4. **`infra-immutable` rule** ‚Äî –ø—Ä–∞–≤–∏–ª–æ "–Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–∞–≤–æ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é" ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–¥–≤–∏–≥–∞–µ–º—ã–π.

5. **SessionSpeaker –∫–∞–∫ pivot —Å payload** ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è many-to-many —Å –±–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã–º–∏ (role, status, snapshots), –∞ –Ω–µ –≥–æ–ª—ã–π join table.

---

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

```mermaid
graph LR
    A["üî¥ –°–ï–ô–ß–ê–°\n(blocker)"] --> B["üü° –°–õ–ï–î–£–Æ–©–ò–ô\n—Å–ø—Ä–∏–Ω"]
    B --> C["üü¢ –ë–£–î–£–©–ï–ï"]

    A1["–£–±—Ä–∞—Ç—å credentials\n–∏–∑ docs/ –≤ .env"] --> A
    A2["–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ\nPowerShell vs Git Bash\n–≤ rules"] --> A
    A3["–†–µ—à–∏—Ç—å OOM:\nswap + resource limits\n–≤ docker-compose.prod.yml"] --> A

    B1["–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å PRD-001\n–∏ Prisma schema"] --> B
    B2["Multi-stage Dockerfile\n(build + runtime stages)"] --> B
    B3["–û—Ç–∫–ª—é—á–∏—Ç—å Redis\n–¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ\n–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"] --> B

    C1["–û–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã\n–¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã\n(PROJECT_STATUS ‚Üí deprecated)"] --> C
    C2["–û—á–∏—Å—Ç–∏—Ç—å antigravity_kb.md\n–æ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Å—ã–ª–æ–∫"] --> C
```

### –¢–æ–ø-5 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

| # | –î–µ–π—Å—Ç–≤–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---|---|---|---|
| 1 | –£–±—Ä–∞—Ç—å plaintext credentials –∏–∑ `00_Preflight_Checklist.md` –∏ `project_skills.yml` | –ù–∏–∑–∫–∞—è | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| 2 | –î–æ–±–∞–≤–∏—Ç—å `mem_limit: 256m` –¥–ª—è Redis, `mem_limit: 512m` –¥–ª—è app –≤ `docker-compose.prod.yml` + 2 GB swap –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ | –ù–∏–∑–∫–∞—è | üî¥ –ë–ª–æ–∫–µ—Ä |
| 3 | –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª—å –ø—Ä–∞–≤–∏–ª–∞ `cli-non-interactive` –∏–∑ `project_rules.yaml`, —É–±—Ä–∞—Ç—å PowerShell-–ø—Ä–∞–≤–∏–ª–∞ | –ú–∏–Ω—É—Ç—ã | üü° –í–∞–∂–Ω–æ |
| 4 | –£–±—Ä–∞—Ç—å Redis –∏–∑ `docker-compose.prod.yml` –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –æ—á–µ—Ä–µ–¥–µ–π | –ù–∏–∑–∫–∞—è | üü° –í–∞–∂–Ω–æ |
| 5 | –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å `Dockerfile` –≤ multi-stage: stage 1 ‚Äî builder, stage 2 ‚Äî runtime —Å–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–æ–ª—å–∫–æ `dist/` | –°—Ä–µ–¥–Ω—è—è | üü° –í–∞–∂–Ω–æ |

---

## –û–±—â–∏–π –≤—ã–≤–æ–¥

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **"–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ, –∫–æ–¥ ‚Äî –Ω–∞—Å—Ç–æ—è—â–µ–µ, –∞ —Å—Ä–µ–¥–∞ –¥–µ–ø–ª–æ—è ‚Äî –ø—Ä–æ—à–ª–æ–µ"**. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è MVP-—Å—Ç–∞–¥–∏–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π AI-assisted —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –°–∞–º –ø–æ —Å–µ–±–µ —Å—Ç–µ–∫ –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ö–æ—Ä–æ—à–æ –æ—Å–º—ã—Å–ª–µ–Ω–∞. –ì–ª–∞–≤–Ω–∞—è —É–≥—Ä–æ–∑–∞ ‚Äî –Ω–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ –≤ –∫–æ–¥–µ, –∞ **–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π —à—É–º** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–º–µ–¥–ª—è–µ—Ç –∫–∞–∂–¥—É—é —Å–ª–µ–¥—É—é—â—É—é —Å–µ—Å—Å–∏—é —Å –∞–≥–µ–Ω—Ç–æ–º –∏ —Å–æ–∑–¥–∞—ë—Ç —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–π.

–ï—Å–ª–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é (–ø—É—Å—Ç—å –¥–∞–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ), —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ —Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Ä–∞—Å—Ç—É—Ç.
